---
name: codex-review
description: OpenAI Codex CLIを使用した各フェーズのレビューを実行する。対象フェーズ: (1) 要件定義レビュー、(2) 設計レビュー、(3) 実装レビュー、(4) テストレビュー、(5) ドキュメントレビュー。トリガー: "codex-review", "レビューして", "Codexレビュー", "/codex-review"
---

# Codex Review Skill

Codex CLIを使用して各開発フェーズのレビューを実行するスキル。

## 概要

このスキルは、開発の各フェーズ（要件定義、設計、実装、テスト、ドキュメント）においてCodexによる専門的なレビューを提供します。

## 実行コマンド

```bash
codex exec --full-auto --sandbox read-only --cd <project_directory> "<request>"
```

## パラメータ

| パラメータ | 説明 |
|-----------|------|
| `--full-auto` | 完全自動モードで実行 |
| `--sandbox read-only` | 読み取り専用サンドボックス（安全な分析用） |
| `--cd <dir>` | 対象プロジェクトのディレクトリ |
| `"<request>"` | 依頼内容（日本語可） |

## レビュータイプ別の使用例

### 1. 要件定義レビュー
**目的**: 要件の妥当性、完全性、実現可能性の確認

```bash
codex exec --full-auto --sandbox read-only --cd /Users/yoheinakanishi/Dev/simple-diary "CLAUDE.mdの要件定義セクションをレビューしてください。以下の観点で確認してください: (1) 要件の明確性と具体性、(2) 要件の実現可能性、(3) 抜け漏れの有無、(4) 優先度付けの妥当性"
```

### 2. 設計レビュー
**目的**: アーキテクチャ、データモデル、API設計の妥当性確認

```bash
codex exec --full-auto --sandbox read-only --cd /Users/yoheinakanishi/Dev/simple-diary "設計ドキュメントをレビューしてください。以下の観点で確認してください: (1) アーキテクチャの妥当性、(2) データモデルの正規化と整合性、(3) API設計のRESTful性、(4) スケーラビリティとセキュリティ"
```

### 3. 実装レビュー
**目的**: コード品質、ベストプラクティス、パフォーマンスの確認

```bash
codex exec --full-auto --sandbox read-only --cd /Users/yoheinakanishi/Dev/simple-diary "実装コードをレビューしてください。以下の観点で確認してください: (1) コード品質とベストプラクティス、(2) セキュリティ脆弱性、(3) パフォーマンス最適化、(4) エラーハンドリング、(5) コードの保守性"
```

### 4. テストレビュー
**目的**: テストカバレッジ、テストケースの妥当性確認

```bash
codex exec --full-auto --sandbox read-only --cd /Users/yoheinakanishi/Dev/simple-diary "テストコードをレビューしてください。以下の観点で確認してください: (1) テストカバレッジの十分性、(2) テストケースの網羅性、(3) エッジケースの考慮、(4) テストの保守性"
```

### 5. ドキュメントレビュー
**目的**: ドキュメントの完全性、正確性、可読性の確認

```bash
codex exec --full-auto --sandbox read-only --cd /Users/yoheinakanishi/Dev/simple-diary "プロジェクトドキュメントをレビューしてください。以下の観点で確認してください: (1) ドキュメントの完全性、(2) 技術的な正確性、(3) 可読性とわかりやすさ、(4) 実装との整合性"
```

## 実行手順

1. **フェーズの特定**: 現在の開発フェーズを確認
2. **レビュー対象の確認**: CLAUDE.mdや関連ファイルを確認
3. **Codex実行**: 適切なレビュータイプでCodexを実行
4. **結果の整理**: Codexのレビュー結果を整理
5. **フィードバック提供**: ユーザーに改善点を報告
6. **アクションアイテム作成**: 必要に応じてCLAUDE.mdのタスクリストを更新

## レビューチェックリスト

### 要件定義フェーズ
- [ ] 機能要件の明確性
- [ ] 非機能要件の定義
- [ ] ユーザーストーリーの完全性
- [ ] 優先度付けの妥当性

### 設計フェーズ
- [ ] アーキテクチャの妥当性
- [ ] データモデルの整合性
- [ ] API設計の一貫性
- [ ] セキュリティ設計

### 実装フェーズ
- [ ] コード品質
- [ ] ベストプラクティス準拠
- [ ] セキュリティ脆弱性の有無
- [ ] パフォーマンス

### テストフェーズ
- [ ] テストカバレッジ
- [ ] テストケースの網羅性
- [ ] エッジケースの考慮
- [ ] テストの保守性

### ドキュメントフェーズ
- [ ] ドキュメントの完全性
- [ ] 技術的な正確性
- [ ] 可読性
- [ ] 実装との整合性

## 注意事項

- Codexは読み取り専用モードで実行されるため、ファイルの変更は行いません
- レビュー結果に基づく修正は、Claude Codeのサブエージェントが実行します
- 各フェーズの完了時に必ずレビューを実行することを推奨します
